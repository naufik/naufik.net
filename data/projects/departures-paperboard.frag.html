<p>
    The PTV departure paperboard is a personal IoT project to create a bus
    departure board at home, displayed on an ePaper screen. It is written in
    TypeScript and utilizes the Public Transport Victoria API to obtain departure
    data, while being hosted in AWS Lambda and API Gateway.
</p>
<p>
    This page talks about the software part of the project only. Part-orders are
    underway in order to start any work the hardware part. (I definitely can't
    wait until they are delivered!) 
</p>
<h3>View</h3>
<img class="center" src="https://b7kmrvpr6d.execute-api.ap-southeast-1.amazonaws.com/default/departures?stopID=14280&routeType=2"/>
<p>Paperboard generated image of departures from <a href="https://www.ptv.vic.gov.au/stop/14280/sydney-rdmoreland-rd/2/bus/">
Sydney Rd/Moreland Rd</a>. Flushing cache and reloading this page generates a
new image.</p>
<h3>Software</h3>
<img height="72px" src="https://cdn.worldvectorlogo.com/logos/aws-lambda.svg"/>
<img height="72px" src="https://cdn.worldvectorlogo.com/logos/aws-api-gateway.svg"/>
<img height="72px" src="https://cdn.worldvectorlogo.com/logos/raspberry-pi.svg"/>
<p>
    The primary idea of the application is to have a Raspberry Pi hooked up with
    an ePaper Screen that will (via cron) download the rendered image. This image
    is then sent to the ePaper screen using SPI.
</p>
<p>
    The ePaper screen used to create the hardware is the Waveshare 7.5in
    monochromatic ePaper screen, <a href="https://www.waveshare.com/wiki/7.5inch_e-Paper_HAT">
        specification is viewable here.</a>
</p>
<h3>Roadmap, Issues, and Reflection</h3>
<p>
    Node modules often get really big, this is the case for this project as well
    and loading the image library into the RAM is an issue. The application can
    have a high 200MB RAM usage. (My poor Raspberry Pi Zero only has 500MB of
    RAM!) Other than simply learning, this was the second excuse to do all the
    processing in AWS Lambda.
</p>
<p>
    That said, here is what's next for the application:
    <ul>
        <li>Perform low-level bitmap manipulation instead of relying on Jimp.</li>
        <li>Support tracking only few routes from a stop.</li>
    </ul>
</p>
<h3>Source Code</h3>
<p><a href="https://github.com/naufik/ptv-departure-paperboard">See codebase on GitHub</a></p>